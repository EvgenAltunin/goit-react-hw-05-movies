{"version":3,"file":"static/js/278.9c26f5f1.chunk.js","mappings":"oPAUMA,GAAYC,EAAAA,EAAAA,OAAK,kBAAM,6BAAN,IACjBC,GAAYD,EAAAA,EAAAA,OAAK,kBAAM,qDAAN,IA2CvB,UAzCe,WAAO,IAAD,EACnB,GAA0CE,EAAAA,EAAAA,UAAS,MAAnD,eAAOC,EAAP,KAAsBC,EAAtB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAW,UAAGF,EAAaG,IAAI,gBAApB,QAAgC,GA8BjD,OAxBAC,EAAAA,EAAAA,YAAU,WACR,GAAoB,KAAhBF,EAAJ,CAIA,IAAMG,EAAgB,mCAAG,6GAEFC,EAAAA,GAAmBJ,GAFjB,UAEfK,EAFe,OAGrBT,EAAiBS,EAAKC,SAEK,IAAvBD,EAAKE,cALY,uBAMnBC,EAAAA,GAAAA,MAAY,8BAA+B,CAAEC,mBAAAA,EAAAA,IAN1B,4EAUrBC,QAAQC,IAAR,MACAH,EAAAA,GAAAA,MAAA,UAAe,KAAMI,QAArB,gBAA4C,CAC1CH,mBAAAA,EAAAA,IAZmB,0DAAH,qDAgBtBN,GAlBC,CAmBF,GAAE,CAACH,KAGF,6BACE,SAACP,EAAD,CAAWoB,aA9BiB,SAAAC,GAC9Bf,EAAgB,CAAEgB,MAAOD,GAC1B,KA6BG,SAACvB,EAAD,CAAWyB,OAAQrB,MAGxB,C","sources":["pages/Movies/Movies.jsx"],"sourcesContent":["import { lazy } from 'react';\n// import { MovieList } from 'components/MovieList/MovieList';\n// import { Searchbar } from 'components/Searchbar/Searchbar';\nimport { useEffect } from 'react';\nimport { useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport * as API from 'components/FetchApi';\nimport { toast } from 'react-toastify';\nimport { notificationParams } from '../../settings/settings';\n\nconst MovieList = lazy(() => import('components/MovieList/MovieList'));\nconst Searchbar = lazy(() => import('components/Searchbar/Searchbar'));\n\nconst Movies = () => {\n  const [recivedMovies, setRecivedMovies] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const searchQuery = searchParams.get('query') ?? '';\n\n  const handleSearchQueryChange = value => {\n    setSearchParams({ query: value });\n  };\n\n  useEffect(() => {\n    if (searchQuery === '') {\n      return;\n    }\n\n    const fetchMovieByName = async () => {\n      try {\n        const data = await API.getMovieByName(searchQuery);\n        setRecivedMovies(data.results);\n\n        if (data.total_results === 0) {\n          toast.error('No movies found. Try again.', { notificationParams });\n          return;\n        }\n      } catch (error) {\n        console.log(error);\n        toast.error(`${error.message}. Try again.`, {\n          notificationParams,\n        });\n      }\n    };\n    fetchMovieByName();\n  }, [searchQuery]);\n\n  return (\n    <main>\n      <Searchbar onFormSubmit={handleSearchQueryChange} />\n      <MovieList movies={recivedMovies} />\n    </main>\n  );\n};\n\nexport default Movies;\n"],"names":["MovieList","lazy","Searchbar","useState","recivedMovies","setRecivedMovies","useSearchParams","searchParams","setSearchParams","searchQuery","get","useEffect","fetchMovieByName","API","data","results","total_results","toast","notificationParams","console","log","message","onFormSubmit","value","query","movies"],"sourceRoot":""}